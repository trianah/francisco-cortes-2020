{"version":3,"sources":["webpack:///./plugins/eventBus.js","webpack:////Users/triana/projects/francisco-cortes-2020/node_modules/mitt/dist/mitt.es.js","webpack:///./behaviours/Modal.js","webpack:////Users/triana/projects/francisco-cortes-2020/node_modules/vanilla-modal/dist/index.js"],"names":["eventBus","all","Object","create","on","type","handler","push","off","splice","indexOf","emit","evt","slice","map","mitt","Modal","node","base","el","clickOutside","modal","modalInner","modalContent","VanillaModal","id","open","destroy","exports","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_extends","assign","arguments","source","hasOwnProperty","call","defaults","close","page","class","loadClass","closeKeys","transitions","transitionEnd","onBeforeOpen","onBeforeClose","onOpen","onClose","getNode","selector","parent","document","querySelector","addClass","className","HTMLElement","setAttribute","split","filter","cn","concat","join","matches","e","allMatches","ownerDocument","querySelectorAll","body","parentNode","settings","instance","TypeError","_classCallCheck","this","isOpen","current","isListening","createElement","arr","callback","_ref","style","filteredArray","undefined","applyUserSettings","dom","getDomNodes","bind","closeKeyHandler","outsideClickHandler","delegateOpen","delegateClose","listen","addLoadedCssClass","_settings","removeAttribute","_settings2","closeModal","releaseNode","hash","getElementContext","captureNode","setOpenId","css","window","getComputedStyle","Boolean","parseFloat","_settings3","hasTransition","detectTransition","closeModalWithTransition","removeOpenId","_this","addEventListener","closeTransitionHandler","removeEventListener","childNodes","appendChild","toString","which","preventDefault","matchedNode","default"],"mappings":"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","file":"2.bundle.1592418539453.js","sourcesContent":["import mitt from \"mitt\";\n\nconst eventBus = mitt();\n\nexport default eventBus;\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","//      \n// An event handler can take an optional event argument\n// and should not return a value\n                                          \n                                                               \n\n// An array of all currently registered event handlers for a type\n                                            \n                                                            \n// A map of event types and their corresponding event handlers.\n                        \n                                 \n                                   \n  \n\n/** Mitt: Tiny (~200b) functional event emitter / pubsub.\n *  @name mitt\n *  @returns {Mitt}\n */\nfunction mitt(all                 ) {\n\tall = all || Object.create(null);\n\n\treturn {\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to listen for, or `\"*\"` for all events\n\t\t * @param  {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton: function on(type        , handler              ) {\n\t\t\t(all[type] || (all[type] = [])).push(handler);\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t *\n\t\t * @param  {String} type\tType of event to unregister `handler` from, or `\"*\"`\n\t\t * @param  {Function} handler Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff: function off(type        , handler              ) {\n\t\t\tif (all[type]) {\n\t\t\t\tall[type].splice(all[type].indexOf(handler) >>> 0, 1);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `\"*\"` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * @param {String} type  The event type to invoke\n\t\t * @param {Any} [evt]  Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit: function emit(type        , evt     ) {\n\t\t\t(all[type] || []).slice().map(function (handler) { handler(evt); });\n\t\t\t(all['*'] || []).slice().map(function (handler) { handler(type, evt); });\n\t\t}\n\t};\n}\n\nexport default mitt;\n//# sourceMappingURL=mitt.es.js.map\n","import VanillaModal from \"vanilla-modal\";\nimport eventBus from \"@/plugins/eventBus\";\n\nfunction Modal({ node }) {\n  const base = {\n    el: node,\n    clickOutside: true,\n    modal: \".modal\",\n    modalInner: \".modal-inner\",\n    modalContent: \".modal-content\"\n  };\n\n  const modal = new VanillaModal(base);\n\n  eventBus.on(\"modal:open\", id => {\n    modal.open(id);\n  });\n\n  return () => {\n    modal.destroy();\n  };\n}\n\nexport default Modal;\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.VanillaModal = mod.exports;\n  }\n})(this, function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var defaults = {\n    modal: '.modal',\n    modalInner: '.modal-inner',\n    modalContent: '.modal-content',\n    open: '[data-modal-open]',\n    close: '[data-modal-close]',\n    page: 'body',\n    class: 'modal-visible',\n    loadClass: 'vanilla-modal',\n    clickOutside: true,\n    closeKeys: [27],\n    transitions: true,\n    transitionEnd: null,\n    onBeforeOpen: null,\n    onBeforeClose: null,\n    onOpen: null,\n    onClose: null\n  };\n\n  function throwError(message) {\n    // eslint-disable-next-line no-console\n    console.error('VanillaModal: ' + message);\n  }\n\n  function find(arr, callback) {\n    return function (key) {\n      var filteredArray = arr.filter(callback);\n      return filteredArray[0] ? filteredArray[0][key] : undefined;\n    };\n  }\n\n  function transitionEndVendorSniff() {\n    var el = document.createElement('div');\n    var transitions = [{ key: 'transition', value: 'transitionend' }, { key: 'OTransition', value: 'otransitionend' }, { key: 'MozTransition', value: 'transitionend' }, { key: 'WebkitTransition', value: 'webkitTransitionEnd' }];\n    return find(transitions, function (_ref) {\n      var key = _ref.key;\n      return typeof el.style[key] !== 'undefined';\n    })('value');\n  }\n\n  function isPopulatedArray(arr) {\n    return Object.prototype.toString.call(arr) === '[object Array]' && arr.length;\n  }\n\n  function getNode(selector, parent) {\n    var targetNode = parent || document;\n    var node = targetNode.querySelector(selector);\n    if (!node) {\n      throwError(selector + ' not found in document.');\n    }\n    return node;\n  }\n\n  function addClass(el, className) {\n    if (!(el instanceof HTMLElement)) {\n      throwError('Not a valid HTML element.');\n    }\n    el.setAttribute('class', el.className.split(' ').filter(function (cn) {\n      return cn !== className;\n    }).concat(className).join(' '));\n  }\n\n  function removeClass(el, className) {\n    if (!(el instanceof HTMLElement)) {\n      throwError('Not a valid HTML element.');\n    }\n    el.setAttribute('class', el.className.split(' ').filter(function (cn) {\n      return cn !== className;\n    }).join(' '));\n  }\n\n  function getElementContext(e) {\n    if (e && typeof e.hash === 'string') {\n      return document.querySelector(e.hash);\n    } else if (typeof e === 'string') {\n      return document.querySelector(e);\n    }\n    throwError('No selector supplied to open()');\n    return null;\n  }\n\n  function applyUserSettings(settings) {\n    return _extends({}, defaults, settings, {\n      transitionEnd: transitionEndVendorSniff()\n    });\n  }\n\n  function matches(e, selector) {\n    var allMatches = (e.target.document || e.target.ownerDocument).querySelectorAll(selector);\n    for (var i = 0; i < allMatches.length; i += 1) {\n      var node = e.target;\n      while (node && node !== document.body) {\n        if (node === allMatches[i]) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n    }\n    return null;\n  }\n\n  var VanillaModal = function () {\n    function VanillaModal(settings) {\n      _classCallCheck(this, VanillaModal);\n\n      this.isOpen = false;\n      this.current = null;\n      this.isListening = false;\n\n      this.settings = applyUserSettings(settings);\n      this.dom = this.getDomNodes();\n\n      this.open = this.open.bind(this);\n      this.close = this.close.bind(this);\n      this.closeKeyHandler = this.closeKeyHandler.bind(this);\n      this.outsideClickHandler = this.outsideClickHandler.bind(this);\n      this.delegateOpen = this.delegateOpen.bind(this);\n      this.delegateClose = this.delegateClose.bind(this);\n      this.listen = this.listen.bind(this);\n      this.destroy = this.destroy.bind(this);\n\n      this.addLoadedCssClass();\n      this.listen();\n    }\n\n    _createClass(VanillaModal, [{\n      key: 'getDomNodes',\n      value: function getDomNodes() {\n        var _settings = this.settings,\n            modal = _settings.modal,\n            page = _settings.page,\n            modalInner = _settings.modalInner,\n            modalContent = _settings.modalContent;\n\n        return {\n          modal: getNode(modal),\n          page: getNode(page),\n          modalInner: getNode(modalInner, getNode(modal)),\n          modalContent: getNode(modalContent, getNode(modal))\n        };\n      }\n    }, {\n      key: 'addLoadedCssClass',\n      value: function addLoadedCssClass() {\n        addClass(this.dom.page, this.settings.loadClass);\n      }\n    }, {\n      key: 'setOpenId',\n      value: function setOpenId(id) {\n        var page = this.dom.page;\n\n        page.setAttribute('data-current-modal', id || 'anonymous');\n      }\n    }, {\n      key: 'removeOpenId',\n      value: function removeOpenId() {\n        var page = this.dom.page;\n\n        page.removeAttribute('data-current-modal');\n      }\n    }, {\n      key: 'open',\n      value: function open(allMatches, e) {\n        var page = this.dom.page;\n        var _settings2 = this.settings,\n            onBeforeOpen = _settings2.onBeforeOpen,\n            onOpen = _settings2.onOpen;\n\n        this.closeModal(e);\n        if (!(this.current instanceof HTMLElement === false)) {\n          throwError('VanillaModal target must exist on page.');\n          return;\n        }\n        this.releaseNode(this.current);\n        this.current = getElementContext(allMatches);\n        if (typeof onBeforeOpen === 'function') {\n          onBeforeOpen.call(this, e);\n        }\n        this.captureNode(this.current);\n        addClass(page, this.settings.class);\n        this.setOpenId(this.current.id);\n        this.isOpen = true;\n        if (typeof onOpen === 'function') {\n          onOpen.call(this, e);\n        }\n      }\n    }, {\n      key: 'detectTransition',\n      value: function detectTransition() {\n        var modal = this.dom.modal;\n\n        var css = window.getComputedStyle(modal, null);\n        return Boolean(['transitionDuration', 'oTransitionDuration', 'MozTransitionDuration', 'webkitTransitionDuration'].filter(function (i) {\n          return typeof css[i] === 'string' && parseFloat(css[i]) > 0;\n        }).length);\n      }\n    }, {\n      key: 'close',\n      value: function close(e) {\n        var _settings3 = this.settings,\n            transitions = _settings3.transitions,\n            transitionEnd = _settings3.transitionEnd,\n            onBeforeClose = _settings3.onBeforeClose;\n\n        var hasTransition = this.detectTransition();\n        if (this.isOpen) {\n          this.isOpen = false;\n          if (typeof onBeforeClose === 'function') {\n            onBeforeClose.call(this, e);\n          }\n          removeClass(this.dom.page, this.settings.class);\n          if (transitions && transitionEnd && hasTransition) {\n            this.closeModalWithTransition(e);\n          } else {\n            this.closeModal(e);\n          }\n        }\n      }\n    }, {\n      key: 'closeModal',\n      value: function closeModal(e) {\n        var onClose = this.settings.onClose;\n\n        this.removeOpenId(this.dom.page);\n        this.releaseNode(this.current);\n        this.isOpen = false;\n        this.current = null;\n        if (typeof onClose === 'function') {\n          onClose.call(this, e);\n        }\n      }\n    }, {\n      key: 'closeModalWithTransition',\n      value: function closeModalWithTransition(e) {\n        var _this = this;\n\n        var modal = this.dom.modal;\n        var transitionEnd = this.settings.transitionEnd;\n\n        var closeTransitionHandler = function closeTransitionHandler() {\n          modal.removeEventListener(transitionEnd, closeTransitionHandler);\n          _this.closeModal(e);\n        };\n        modal.addEventListener(transitionEnd, closeTransitionHandler);\n      }\n    }, {\n      key: 'captureNode',\n      value: function captureNode(node) {\n        var modalContent = this.dom.modalContent;\n\n        while (node.childNodes.length) {\n          modalContent.appendChild(node.childNodes[0]);\n        }\n      }\n    }, {\n      key: 'releaseNode',\n      value: function releaseNode(node) {\n        var modalContent = this.dom.modalContent;\n\n        while (modalContent.childNodes.length) {\n          node.appendChild(modalContent.childNodes[0]);\n        }\n      }\n    }, {\n      key: 'closeKeyHandler',\n      value: function closeKeyHandler(e) {\n        var closeKeys = this.settings.closeKeys;\n\n        if (isPopulatedArray(closeKeys) && closeKeys.indexOf(e.which) > -1 && this.isOpen === true) {\n          e.preventDefault();\n          this.close(e);\n        }\n      }\n    }, {\n      key: 'outsideClickHandler',\n      value: function outsideClickHandler(e) {\n        var clickOutside = this.settings.clickOutside;\n        var modalInner = this.dom.modalInner;\n\n        if (clickOutside) {\n          var node = e.target;\n          while (node && node !== document.body) {\n            if (node === modalInner) {\n              return;\n            }\n            node = node.parentNode;\n          }\n          this.close(e);\n        }\n      }\n    }, {\n      key: 'delegateOpen',\n      value: function delegateOpen(e) {\n        var open = this.settings.open;\n\n        var matchedNode = matches(e, open);\n        if (matchedNode) {\n          e.preventDefault();\n          this.open(matchedNode, e);\n        }\n      }\n    }, {\n      key: 'delegateClose',\n      value: function delegateClose(e) {\n        var close = this.settings.close;\n\n        if (matches(e, close)) {\n          e.preventDefault();\n          this.close(e);\n        }\n      }\n    }, {\n      key: 'listen',\n      value: function listen() {\n        var modal = this.dom.modal;\n\n        if (!this.isListening) {\n          modal.addEventListener('click', this.outsideClickHandler, false);\n          document.addEventListener('keydown', this.closeKeyHandler, false);\n          document.addEventListener('click', this.delegateOpen, false);\n          document.addEventListener('click', this.delegateClose, false);\n          this.isListening = true;\n        } else {\n          throwError('Event listeners already applied.');\n        }\n      }\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        var modal = this.dom.modal;\n\n        if (this.isListening) {\n          this.close();\n          modal.removeEventListener('click', this.outsideClickHandler);\n          document.removeEventListener('keydown', this.closeKeyHandler);\n          document.removeEventListener('click', this.delegateOpen);\n          document.removeEventListener('click', this.delegateClose);\n          this.isListening = false;\n        } else {\n          throwError('Event listeners already removed.');\n        }\n      }\n    }]);\n\n    return VanillaModal;\n  }();\n\n  exports.default = VanillaModal;\n});\n"],"sourceRoot":""}